{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\hp\\\\Documents\\\\mern-project-master version final\\\\client\\\\src\\\\components\\\\Log\\\\SignUpForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport SignInForm from \"./SignInForm\";\nimport ReCAPTCHA from 'react-google-recaptcha';\nimport ParticlesBg from 'particles-bg';\n\nconst SignUpForm = () => {\n  _s();\n\n  const [formSubmit, setFormSubmit] = useState(false);\n  const [pseudo, setPseudo] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [controlPassword, setControlPassword] = useState(\"\");\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    const terms = document.getElementById(\"terms\");\n    const pseudoError = document.querySelector(\".pseudo.error\");\n    const emailError = document.querySelector(\".email.error\");\n    const passwordError = document.querySelector(\".password.error\");\n    const passwordConfirmError = document.querySelector(\".password-confirm.error\");\n    const termsError = document.querySelector(\".terms.error\");\n    passwordConfirmError.innerHTML = \"\";\n    termsError.innerHTML = \"\";\n\n    if (password !== controlPassword || !terms.checked) {\n      if (password !== controlPassword) passwordConfirmError.innerHTML = \"Les mots de passe ne correspondent pas\";\n      if (!terms.checked) termsError.innerHTML = \"Veuillez valider les conditions générales\";\n    } else {\n      await axios({\n        method: \"post\",\n        url: `${process.env.REACT_APP_API_URL}api/user/register`,\n        data: {\n          pseudo,\n          email,\n          password\n        }\n      }).then(res => {\n        console.log(res);\n\n        if (res.data.errors) {\n          pseudoError.innerHTML = res.data.errors.pseudo;\n          emailError.innerHTML = res.data.errors.email;\n          passwordError.innerHTML = res.data.errors.password;\n        } else {\n          setFormSubmit(true);\n        }\n      }).catch(err => console.log(err));\n    }\n  };\n\n  function onChange(value) {\n    console.log(\"Captcha value:\", value);\n  }\n\n  let config = {\n    num: [4, 7],\n    rps: 0.1,\n    radius: [5, 40],\n    life: [1.5, 3],\n    v: [2, 3],\n    tha: [-50, 50],\n    alpha: [0.6, 0],\n    scale: [.1, 0.9],\n    body: icon,\n    position: \"all\",\n    //color: [\"random\", \"#ff0000\"],\n    cross: \"dead\",\n    random: 10\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: formSubmit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SignInForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"success\",\n        children: \"Enregistrement r\\xE9ussi, veuillez-vous connecter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        onSubmit: handleRegister,\n        id: \"sign-up-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"pseudo\",\n          children: \"Pseudo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"pseudo\",\n          id: \"pseudo\",\n          onChange: e => setPseudo(e.target.value),\n          value: pseudo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pseudo error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          id: \"email\",\n          onChange: e => setEmail(e.target.value),\n          value: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Mot de passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          id: \"password\",\n          onChange: e => setPassword(e.target.value),\n          value: password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"password error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password-conf\",\n          children: \"Confirmer mot de passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          id: \"password-conf\",\n          onChange: e => setControlPassword(e.target.value),\n          value: controlPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"password-confirm error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"terms\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"terms\",\n          children: [\"J'accepte les\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"conditions g\\xE9n\\xE9rales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"terms error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ReCAPTCHA, {\n          sitekey: \"6LcwWVwaAAAAADbi4Zom6rq5lwfa85jx63laFwpy\",\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Valider inscription\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ParticlesBg, {\n        type: \"custom\",\n        config: config,\n        bg: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(SignUpForm, \"zuBpTmdP4YRPQ6ZaQpYYGosTei8=\");\n\n_c = SignUpForm;\nexport default SignUpForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpForm\");","map":{"version":3,"sources":["C:/Users/hp/Documents/mern-project-master version final/client/src/components/Log/SignUpForm.js"],"names":["React","useState","axios","SignInForm","ReCAPTCHA","ParticlesBg","SignUpForm","formSubmit","setFormSubmit","pseudo","setPseudo","email","setEmail","password","setPassword","controlPassword","setControlPassword","handleRegister","e","preventDefault","terms","document","getElementById","pseudoError","querySelector","emailError","passwordError","passwordConfirmError","termsError","innerHTML","checked","method","url","process","env","REACT_APP_API_URL","data","then","res","console","log","errors","catch","err","onChange","value","config","num","rps","radius","life","v","tha","alpha","scale","body","icon","position","cross","random","target"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport SignInForm from \"./SignInForm\";\nimport ReCAPTCHA from 'react-google-recaptcha';\nimport ParticlesBg from 'particles-bg';\n\nconst SignUpForm = () => {\n  const [formSubmit, setFormSubmit] = useState(false);\n  const [pseudo, setPseudo] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [controlPassword, setControlPassword] = useState(\"\");\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    const terms = document.getElementById(\"terms\");\n    const pseudoError = document.querySelector(\".pseudo.error\");\n    const emailError = document.querySelector(\".email.error\");\n    const passwordError = document.querySelector(\".password.error\");\n    const passwordConfirmError = document.querySelector(\n      \".password-confirm.error\"\n    );\n    const termsError = document.querySelector(\".terms.error\");\n\n    passwordConfirmError.innerHTML = \"\";\n    termsError.innerHTML = \"\";\n\n    if (password !== controlPassword || !terms.checked) {\n      if (password !== controlPassword)\n        passwordConfirmError.innerHTML =\n          \"Les mots de passe ne correspondent pas\";\n\n      if (!terms.checked)\n        termsError.innerHTML = \"Veuillez valider les conditions générales\";\n    } else {\n      await axios({\n        method: \"post\",\n        url: `${process.env.REACT_APP_API_URL}api/user/register`,\n        data: {\n          pseudo,\n          email,\n          password,\n        },\n      })\n        .then((res) => {\n          console.log(res);\n          if (res.data.errors) {\n            pseudoError.innerHTML = res.data.errors.pseudo;\n            emailError.innerHTML = res.data.errors.email;\n            passwordError.innerHTML = res.data.errors.password;\n          } else {\n            setFormSubmit(true);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n  function onChange(value) {\n    console.log(\"Captcha value:\", value);\n  }\n\n\n  let config = {\n    num: [4, 7],\n    rps: 0.1,\n    radius: [5, 40],\n    life: [1.5, 3],\n    v: [2, 3],\n    tha: [-50, 50],\n    alpha: [0.6, 0],\n    scale: [.1, 0.9],\n    body: icon,\n    position: \"all\",\n    //color: [\"random\", \"#ff0000\"],\n    cross: \"dead\",\n    random: 10\n  };\n\n  return (\n\n    <>\n      {formSubmit ? (\n        <>\n          <SignInForm />\n          <span></span>\n          <h4 className=\"success\">\n            Enregistrement réussi, veuillez-vous connecter\n          </h4>\n        </>\n      ) : (\n        <div>\n        <form action=\"\" onSubmit={handleRegister} id=\"sign-up-form\">\n          <label htmlFor=\"pseudo\">Pseudo</label>\n          <br />\n          <input\n            type=\"text\"\n            name=\"pseudo\"\n            id=\"pseudo\"\n            onChange={(e) => setPseudo(e.target.value)}\n            value={pseudo}\n          />\n          <div className=\"pseudo error\"></div>\n          <br />\n          <label htmlFor=\"email\">Email</label>\n          <br />\n          <input\n            type=\"text\"\n            name=\"email\"\n            id=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n          />\n          <div className=\"email error\"></div>\n          <br />\n          <label htmlFor=\"password\">Mot de passe</label>\n          <br />\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n          <div className=\"password error\"></div>\n          <br />\n          <label htmlFor=\"password-conf\">Confirmer mot de passe</label>\n          <br/>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password-conf\"\n            onChange={(e) => setControlPassword(e.target.value)}\n            value={controlPassword}\n          />\n          <div className=\"password-confirm error\"></div>\n          <br />\n          <input type=\"checkbox\" id=\"terms\" />\n          <label htmlFor=\"terms\">\n            J'accepte les{\" \"}\n            <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              conditions générales\n            </a>\n          </label>\n          <div className=\"terms error\"></div>\n          <br />\n          <ReCAPTCHA\n    sitekey=\"6LcwWVwaAAAAADbi4Zom6rq5lwfa85jx63laFwpy\"\n    onChange={onChange}\n  />\n  \n    <input type=\"submit\" value=\"Valider inscription\" />\n    </form>\n        <ParticlesBg type=\"custom\" config={config} bg={true} />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default SignUpForm;\n"]},"metadata":{},"sourceType":"module"}